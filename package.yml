name       : modem-manager
version    : 1.12.0
release    : 14
source     :
    - https://github.com/freedesktop/ModemManager/archive/1.12.0.tar.gz : 12991303b50ef9e84d2dd872a1fc3f2b0c880260425d5da60191ff2b4a3fcc3d
license    :
    - GPL-2.0-or-later
    - LGPL-2.1-or-later
component  : network.base
summary    : GNOME Modem Manager
description: |
    GNOME Modem Manager
builddeps  :
    - pkgconfig(mbim-glib)
    - pkgconfig(qmi-glib)
    - vala
setup      : |
    %reconfigure --disable-static \
        --with-systemd-suspend-resume=yes \
        --with-udev-base-dir=%libdir%/udev
build      : |
    %make
install    : |
    %make_install

    # Enable modemmanager service by default
    install -dm00755 $installdir/%libdir%/systemd/system/multi-user.target.wants
    ln -sv %libdir%/systemd/system/ModemManager.service $installdir/%libdir%/systemd/system/multi-user.target.wants    # Create the required alias for it to start via dbus activation
